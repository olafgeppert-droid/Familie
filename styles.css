/* styles.css – modernes, gut lesbares UI */
:root{
  --brand: #1665d8;
  --brand2: #0f4fb3;
  --ribbon-fg: #fff;
  --panel: #ffffff;
  --border: #e5e7eb;
  --text: #111827;
  --muted: #6b7280;
  --danger: #dc2626;
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:#fafafa;color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif}

.app{max-width:1240px;margin:0 auto;padding-bottom:32px}

/* Ribbon */
.ribbon{
  position:sticky; top:0; z-index:5;
  background: linear-gradient(90deg, var(--brand), var(--brand2));
  color:var(--ribbon-fg);
  box-shadow:0 6px 14px rgba(0,0,0,.08);
}
.title-wrap{display:flex;align-items:center;justify-content:center;gap:14px;padding:12px 16px}
.title{margin:0;font-size:28px;letter-spacing:.3px;text-align:center}
.coa{height:34px;width:auto}

/* Toolbar */
.toolbar{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;background:#fff;border-top:1px solid rgba(255,255,255,.2);border-bottom:1px solid var(--border);padding:10px 12px}
.toolbar .left, .toolbar .right{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.btn{display:inline-flex;align-items:center;gap:6px;padding:8px 10px;border:1px solid #d0d7de;background:#f4f6f8;color:#111827;border-radius:8px;cursor:pointer;font-weight:600}
.btn:hover{background:#eef2f7}
.btn[disabled]{opacity:.5;pointer-events:none}
.btn.danger{background:#fee2e2;border-color:#fecaca;color:#991b1b}
.btn.help{color:#d32f2f}
input[type="text"]{padding:8px 10px;border:1px solid #d1d5db;border-radius:8px;width:280px}

/* Hinweiszeile */
.hint-row{background:#fff;border-bottom:1px solid var(--border);padding:8px 12px}
#autoHint{border:1px solid var(--border);border-radius:10px;padding:8px 10px;color:#374151;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  font-size:clamp(12px, 1.8vw, 14px);
}

/* Table */
.table-wrap{padding:14px 12px}
table{width:100%;border-collapse:separate;border-spacing:0 8px}
th,td{text-align:left;padding:10px 12px;background:#fff}
th{position:sticky; top:132px; background:#fff; z-index:1; box-shadow:0 1px 0 var(--border)}
td{border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
tr td:first-child, tr th:first-child{border-left:1px solid var(--border);border-top-left-radius:8px;border-bottom-left-radius:8px}
tr td:last-child, tr th:last-child{border-right:1px solid var(--border);border-top-right-radius:8px;border-bottom-right-radius:8px}
mark{background:#fff3bf;padding:0 2px;border-radius:3px}

/* Tree panel */
.tree-panel{padding:8px 12px}
#tree{background:#f8fafc;border:1px solid var(--border);border-radius:10px;min-height:280px;max-height:60vh;overflow:auto;padding:10px}
.node text{font-size:11px;fill:#111827}

/* Dialogs */
dialog{border:none;border-radius:12px;box-shadow:0 14px 40px rgba(0,0,0,.25);padding:0;max-width:min(820px, 95vw)}
dialog::backdrop{background:transparent} /* keine Abdunklung */
.dlg-head{padding:12px 16px;background:#f4f6f8;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
.dlg-body{padding:16px;max-height:70vh;overflow:auto}
.dlg-actions{padding:12px 16px;border-top:1px solid var(--border);display:flex;gap:8px;justify-content:flex-end}
.close-x{border:none;background:transparent;font-size:20px;cursor:pointer}
.form-grid{display:grid;grid-template-columns:repeat(2,minmax(180px,1fr));gap:12px}
.form-grid label{font-size:.9rem;color:#374151}
.form-grid input, .form-grid select{padding:8px;border:1px solid #d1d5db;border-radius:8px}
.btn-row{display:flex;gap:10px;flex-wrap:wrap}

@media (max-width:860px){
  .form-grid{grid-template-columns:1fr}
  .title{font-size:22px}
  th{top:152px}
}


/* --- v70 generation palette --- */
:root {
  --gen1: #a8e6a1;   /* grün hell */
  --gen2: #a7c7ff;   /* blau hell */
  --gen3: #ffb3b3;   /* rot hell */
  --gen4: #fff3a6;   /* gelb hell */
  --gen5: #e0b3ff;   /* violett hell */
  --gen6: #b3fff0;   /* türkis hell */
  --gen7: #ffd1a6;   /* orange hell */
  --gen8: #e0e0e0;   /* grau hell */
  --gen9: #ffc0cb;   /* rosa hell */
  --gen10:#7fbf7f;   /* dunkelgrün hell */
}
/* Tabellenzeilen einfärben nach Generation (data-gen Attribut) */
table tbody tr[data-gen="1"] { background: var(--gen1); }
table tbody tr[data-gen="2"] { background: var(--gen2); }
table tbody tr[data-gen="3"] { background: var(--gen3); }
table tbody tr[data-gen="4"] { background: var(--gen4); }
table tbody tr[data-gen="5"] { background: var(--gen5); }
table tbody tr[data-gen="6"] { background: var(--gen6); }
table tbody tr[data-gen="7"] { background: var(--gen7); }
table tbody tr[data-gen="8"] { background: var(--gen8); }
table tbody tr[data-gen="9"] { background: var(--gen9); }
table tbody tr[data-gen="10"]{ background: var(--gen10); }

/* Stammbaum: optionale farbbänder pro generationsebene */
svg .gen-band-1 { fill: var(--gen1); opacity: .35; }
svg .gen-band-2 { fill: var(--gen2); opacity: .35; }
svg .gen-band-3 { fill: var(--gen3); opacity: .35; }
svg .gen-band-4 { fill: var(--gen4); opacity: .35; }
svg .gen-band-5 { fill: var(--gen5); opacity: .35; }
svg .gen-band-6 { fill: var(--gen6); opacity: .35; }
svg .gen-band-7 { fill: var(--gen7); opacity: .35; }
svg .gen-band-8 { fill: var(--gen8); opacity: .35; }
svg .gen-band-9 { fill: var(--gen9); opacity: .35; }
svg .gen-band-10{ fill: var(--gen10); opacity: .35; }

/* Partner-Buslinien */
svg .busline { stroke: #444; stroke-width: 2; }
svg .busline.dashed { stroke-dasharray: 5 5; }
svg .kinline { stroke: #333; stroke-width: 2; }
svg .nodebox { stroke: #222; stroke-width: 1; fill: white; }

