/* Modernes, gut lesbares Theme */
:root{
  --ribbon-bg: #0b5fa5;
  --ribbon-fg: #fff;
  --btn-bg: #f3f6fb;
  --btn-fg: #0a2540;
  --btn-border: #d0d7e2;
  --btn-danger: #d62828;
  --table-header: #e9f1fa;
  --table-border: #dfe3ea;
  --highlight: #fffb91;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#111;background:#fff}
header.ribbon{padding:10px 12px;background:linear-gradient(180deg,#0b5fa5,#0a5697);color:var(--ribbon-fg);border-bottom:1px solid #083e6b}
.title-wrap{display:flex;align-items:center;justify-content:center;gap:12px}
.title-wrap h1{margin:6px 0;font-weight:700;letter-spacing:.3px;text-align:center}
.crest{height:42px;width:auto;}

.ribbon-row{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:8px}
.ribbon-row button{background:var(--btn-bg);color:var(--btn-fg);border:1px solid var(--btn-border);padding:8px 12px;border-radius:8px;cursor:pointer;}
.ribbon-row button.big{font-size:16px;padding:10px 16px}
.ribbon-row button:hover{filter:brightness(.97)}
.ribbon-row .danger{background:var(--btn-danger);color:#fff;border-color:#b31f1f}
.search-wrap{margin-left:12px}
.hint{margin-top:6px;text-align:center;opacity:.9}

main{padding:12px;display:grid;grid-template-columns:1fr;gap:14px}
.table-section{overflow:auto}
table{width:100%;border-collapse:collapse;background:#fff;border:1px solid var(--table-border)}
thead th{position:sticky;top:0;background:var(--table-header);border-bottom:1px solid var(--table-border);padding:8px;text-align:left}
td{border-top:1px solid var(--table-border);padding:6px 8px;vertical-align:top}
tbody tr:hover{background:#f9fbfe}

.tree-section{border:1px solid var(--table-border);padding:8px;overflow:auto;min-height:420px}
svg#familyTree{width:100%;height:600px;background:#fff}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:1000}
.modal[aria-hidden="false"]{display:flex}
.modal-box{background:#fff;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.2);width:min(900px,96vw);padding:10px}
.modal-box.small{width:min(420px,92vw)}
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:6px 6px 6px 10px;border-bottom:1px solid var(--table-border)}
.modal-header h3{margin:4px 0}
.modal-body{padding:10px}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;padding-top:8px}
.modal .close{background:#eee;border:none;border-radius:8px;padding:4px 8px;cursor:pointer}

.form-row{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:10px}
.form-row input, .form-row select{width:100%;padding:8px;border:1px solid var(--table-border);border-radius:6px}
.form-hint{font-size:12px;opacity:.75;margin-top:4px}

.overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;z-index:1100}
.overlay[aria-hidden="false"]{display:flex}
.overlay-box{background:#fff;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.25);width:min(900px,96vw);height:min(80vh,700px);display:flex;flex-direction:column}
.overlay-header{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid var(--table-border)}
.overlay iframe{flex:1;border:0}

mark{background:var(--highlight);padding:0 2px;border-radius:3px}
@media print{
  header.ribbon,.modal,.overlay,.search-wrap{display:none!important}
  body{margin:0}
  .tree-section{border:none}
  svg#familyTree{height:auto}
}
