/* Basic reset */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color: #1b1f24; background: #fafbfc; }

/* Ribbon */
.ribbon { background: linear-gradient(180deg, #e9f1ff 0%, #d7e6ff 100%); border-bottom: 1px solid #c9d8f7; padding: 8px 12px; position: sticky; top: 0; z-index: 10; }
.ribbon-row { display: flex; align-items: center; justify-content: space-between; gap: 12px; max-width: 1200px; margin: 0 auto; }
.ribbon-row.row2 { margin-top: 6px; }
.ribbon .btn { padding: 8px 12px; border-radius: 8px; border: 1px solid #c8d1ea; background: #fff; cursor: pointer; }
.ribbon .btn.primary { background: #1565c0; color: #fff; border-color: #1565c0; }
.ribbon .btn.danger { background: #c62828; color: #fff; border-color: #b71c1c; }
.ribbon .btn.help { border-color: #e53935; color: #e53935; }
.ribbon input[type="search"] { flex: 1; max-width: 520px; padding: 8px 10px; border: 1px solid #c8d1ea; border-radius: 8px; }

/* Titlebar */
.titlebar { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 12px; padding: 12px; background: #0d47a1; color: #fff; border-bottom: 2px solid #0a3a85; }
.titlebar h1 { margin: 0; text-align: center; font-size: clamp(1.2rem, 2.6vw, 2rem); letter-spacing: .5px; }
.titlebar .wappen { height: clamp(36px, 6vw, 64px); object-fit: contain; justify-self: center; }

#notice { text-align: center; color: #444; margin: 8px 10px 12px; }

/* Layout */
.layout { display: grid; grid-template-columns: 1.2fr 1fr; gap: 14px; max-width: 1200px; margin: 8px auto 24px; padding: 0 10px; }
.table-pane, .tree-pane { background: #fff; border: 1px solid #e5eaf3; border-radius: 10px; overflow: hidden; }
.tree-toolbar { padding: 8px 10px; font-weight: 600; border-bottom: 1px solid #eef1f7; background: #f8faff; }

/* Table */
table { width: 100%; border-collapse: collapse; }
thead th { position: sticky; top: 0; background: #f3f6ff; color: #0d47a1; border-bottom: 1px solid #dfe7fb; padding: 8px; text-align: left; font-size: .92rem; }
tbody td { border-bottom: 1px solid #f0f2f7; padding: 8px; font-size: .94rem; }
tbody tr:hover { background: #f9fbff; }
mark { background: #fff59d; padding: 0 2px; border-radius: 2px; }

/* Modal <dialog> */
.modal::backdrop { background: rgba(0,0,0,0.2); }
.modal { border: none; border-radius: 10px; padding: 0; }
.modal .form { padding: 14px; min-width: min(88vw, 560px); }
.modal h3 { margin: 0 0 8px; }
.modal .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
.modal .grid label { font-size: .92rem; }
.modal input, .modal select { width: 100%; padding: 8px; border: 1px solid #d4d9e4; border-radius: 8px; }
.modal menu { display: flex; gap: 8px; justify-content: flex-end; padding: 10px 0 0; }
.modal .btn { padding: 8px 12px; border-radius: 8px; border: 1px solid #c8d1ea; background: #fff; }
.modal .btn.primary { background: #1565c0; color: #fff; border-color: #1565c0; }
.modal .btn.danger { background: #c62828; color: #fff; border-color: #b71c1c; }

/* Help overlay (no dim background) */
.help-overlay { position: fixed; inset: 0; display: grid; place-items: center; background: transparent; z-index: 1000; }
.help-overlay[hidden] { display: none; }
.help-card { width: min(92vw, 900px); height: min(78vh, 720px); background: #fff; border: 1px solid #e5eaf3; border-radius: 12px; box-shadow: 0 12px 60px rgba(20,30,50,.25); overflow: hidden; display: grid; grid-template-rows: auto 1fr; }
.help-card .close { justify-self: end; background: #fff; border: none; padding: 8px 12px; font-size: 24px; cursor: pointer; color: #c62828; }
.help-scroll { overflow: auto; padding: 0 14px 18px 14px; }

/* SVG Tree */
#tree { background: #fff; }
.node { stroke: #1e2430; stroke-width: 1; }
.node text { font-size: 12px; }
.gen-1 { fill: #e8f5e9; } /* gr√ºn */
.gen-2 { fill: #fffde7; } /* gelb */
.gen-3 { fill: #ffebee; } /* rot/pink */
.gen-4 { fill: #f3e5f5; } /* violett */
.link { stroke: #7a889a; stroke-width: 1.4; fill: none; }

@media (max-width: 1000px) {
  .layout { grid-template-columns: 1fr; }
}
