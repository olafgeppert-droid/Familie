/* Helle, moderne UI (barrierearm) */
:root{
  --bg:#f6f7fb;
  --card:#ffffff;
  --ink:#0f172a;
  --muted:#475569;
  --primary:#2563eb;
  --accent:#0ea5e9;
  --line:#cbd5e1;
  --warn:#b91c1c;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
h1,h3{margin:.2rem 0}
/* Ribbon */
header.ribbon{padding:8px 10px;background:linear-gradient(180deg,#fff,#f1f5f9);border-bottom:1px solid var(--line)}
header .title{grid-column:1/-1;font-weight:700;font-size:20px;text-align:center;margin-bottom:4px}
.ribbon-rows{display:grid;gap:6px}
.ribbon-rows .row{display:flex;flex-wrap:wrap;gap:6px;align-items:center;justify-content:center}
button{border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px 10px;cursor:pointer}
button.primary{background:var(--primary);color:#fff;border-color:#1d4ed8}
button.accent{background:var(--accent);color:#00344d;border-color:#0891b2}
button.big{padding:10px 14px;font-size:14px}
.search{min-width:260px;padding:8px 10px;border-radius:10px;border:1px solid var(--line);background:#fff}
main{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:10px}
.pane{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:10px}
.table-wrap{overflow:auto;max-height:60vh;border:1px solid var(--line);border-radius:10px}
table{width:100%;border-collapse:collapse;background:#fff}
th,td{padding:8px;border-bottom:1px solid #e5e7eb}
thead th{position:sticky;top:0;background:#f8fafc;z-index:1}
tbody tr:hover{background:#f1f5f9}
legend,.legend,.hint{color:var(--muted)}
/* Login */
.overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.2);z-index:1000}
.login-card{background:#fff;border:1px solid var(--line);border-radius:12px;padding:16px;box-shadow:0 12px 30px rgba(0,0,0,.15);width:min(420px,92vw)}
.login-card input{width:100%;padding:10px;border:1px solid var(--line);border-radius:10px;margin:6px 0}
.error{color:var(--warn);min-height:1.2em}
/* Form */
.form-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;min-width:60vw}
.form-grid menu{grid-column:1/-1;display:flex;justify-content:flex-end;gap:8px;margin-top:10px}
.form-grid [data-invalid="true"]{outline:2px solid #fbbf24;background:#fffbeb}
/* Tree */
.tree-host{position:relative;background:#fff;border:1px solid var(--line);border-radius:10px;min-height:60vh;overflow:auto}
.tree-surface{position:relative}
.person{position:absolute; background:#fff;border:1px solid var(--line);border-radius:8px;padding:6px 8px;box-shadow:0 2px 8px rgba(0,0,0,.04)}
.person .code{font-weight:700;font-size:12px;color:#334155}
.person .name{font-size:14px}
.person .meta{font-size:12px;color:#64748b}
.person[data-tooltip]:hover:after{
  content:attr(data-tooltip); position:absolute; left:0; top:100%; white-space:pre; padding:8px; border-radius:8px;
  background:#0f172a; color:#fff; box-shadow:0 6px 18px rgba(0,0,0,.35); transform:translateY(6px); z-index:10;
}
.link{stroke:#94a3b8; stroke-width:2; fill:none}
@media(max-width:1100px){ main{grid-template-columns:1fr} .form-grid{grid-template-columns:1fr} }
/* Print */
@media print{
  .no-print,.no-print *{display:none!important}
  body{background:#fff}
  main{grid-template-columns:1fr}
}
body.print-table-only #paneTree{display:none!important}
body.print-tree-only #paneTable{display:none!important}


/* Danger button */
button.danger{background:#dc2626;color:#fff;border-color:#b91c1c}
button.danger:hover{filter:brightness(0.95)}

/* Shake for wrong password */
@keyframes shake{ 0%,100%{transform:translateX(0)} 20%{transform:translateX(-6px)} 40%{transform:translateX(6px)} 60%{transform:translateX(-4px)} 80%{transform:translateX(4px)} }
.login-card.shake{animation:shake .3s linear 1}
